{"ast":null,"code":"import _regeneratorRuntime from\"/home/oskaragh/stremingly/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/oskaragh/stremingly/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext,useEffect,useState}from'react';import{useParams}from\"react-router-dom\";import Artistlist from\"./Artistlist\";import\"./Albums.css\";import{Link}from\"react-router-dom\";import playerContext from'../context/PlayerContext';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Album(){var _useParams=useParams(),name=_useParams.name,id=_useParams.id;var _useContext=useContext(playerContext),albums=_useContext.albums,artists=_useContext.artists,tempSongs=_useContext.tempSongs,setAlbum=_useContext.setAlbum,setTempSongs=_useContext.setTempSongs,setArtist=_useContext.setArtist,SetCurrent=_useContext.SetCurrent,setPlayingFalse=_useContext.setPlayingFalse;useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios(\"http://localhost:3000/api/albums/\");case 2:result=_context.sent;setAlbum(result.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios(\"http://localhost:3000/api/artists/\"+id+\"/songs\");case 2:result=_context2.sent;setTempSongs(result.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[]);useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios(\"http://localhost:3000/api/artists/\"+id);case 2:result=_context3.sent;setArtist(result.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchData(){return _ref3.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"album\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"album__info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"album__infoText\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Albums\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Browse by album\"}),/*#__PURE__*/_jsx(\"p\",{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"album__songs\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"album__icons\",children:[/*#__PURE__*/_jsx(Link,{onClick:function onClick(){SetCurrent(0);setPlayingFalse();},to:\"/artists/\"+name+\"/\"+id,style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(Artistlist,{name:\"All songs of \"+name,img_src:\"http://localhost:3000/media/\"+artists[0].media})}),albums.map(function(album,i){if(typeof tempSongs[0].album_id!=='undefined'){if(tempSongs[0].album_id===album.id){return/*#__PURE__*/_jsx(Link,{onClick:function onClick(){SetCurrent(0);setPlayingFalse();},to:\"/albums/\"+album.name+\"/\"+album.id+\"/songs\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(Artistlist,{name:album.name,img_src:\"http://localhost:3000/media/\"+album.media},i)},i);}}})]})})]});}export default Album;","map":null,"metadata":{},"sourceType":"module"}